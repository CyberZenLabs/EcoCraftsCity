{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\n\nconst useAxiosFunction = configObj => {\n  _s();\n\n  const [response, setResponse] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [controller, setController] = useState();\n\n  const axiosFetch = async configObj => {\n    const {\n      axiosInstance,\n      method,\n      url,\n      requestConfig = {}\n    } = configObj;\n\n    try {\n      setLoading(true);\n      const ctrl = new AbortController();\n      setController(ctrl);\n      const res = await axiosInstance[method.toLowerCase()](url, { ...requestConfig,\n        signal: controller.signal\n      });\n      setResponse(res.data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    return () => controller && controller.abort();\n  }, [controller]);\n  return [response, error, loading, axiosFetch];\n};\n\n_s(useAxiosFunction, \"rlogeqgJ+3thsLOIcT2NRKZlTQM=\");\n\nexport default useAxiosFunction;","map":{"version":3,"sources":["D:/EcoCraftsCity/projects/EcoCraftsCity/EcoCraftsCityFRONT/src/hooks/useAxiosFunction.js"],"names":["useState","useEffect","useAxiosFunction","configObj","response","setResponse","error","setError","loading","setLoading","controller","setController","axiosFetch","axiosInstance","method","url","requestConfig","ctrl","AbortController","res","toLowerCase","signal","data","err","message","abort"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,gBAAgB,GAAIC,SAAD,IAAe;AAAA;;AAEtC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,EAA5C;;AAIA,QAAMY,UAAU,GAAG,MAAOT,SAAP,IAAqB;AACtC,UAAM;AAAEU,MAAAA,aAAF;AAAiBC,MAAAA,MAAjB;AAAyBC,MAAAA,GAAzB;AAA8BC,MAAAA,aAAa,GAAG;AAA9C,QAAqDb,SAA3D;;AAEA,QAAI;AACAM,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMQ,IAAI,GAAG,IAAIC,eAAJ,EAAb;AACAP,MAAAA,aAAa,CAACM,IAAD,CAAb;AACA,YAAME,GAAG,GAAG,MAAMN,aAAa,CAACC,MAAM,CAACM,WAAP,EAAD,CAAb,CAAoCL,GAApC,EAAyC,EACzD,GAAGC,aADsD;AAEzDK,QAAAA,MAAM,EAAEX,UAAU,CAACW;AAFsC,OAAzC,CAAlB;AAKAhB,MAAAA,WAAW,CAACc,GAAG,CAACG,IAAL,CAAX;AACD,KAVH,CAUI,OAAOC,GAAP,EAAY;AAEZhB,MAAAA,QAAQ,CAACgB,GAAG,CAACC,OAAL,CAAR;AACD,KAbH,SAaY;AACRf,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACJ,GAnBD;;AAqBAR,EAAAA,SAAS,CAAC,MAAM;AAGd,WAAO,MAAMS,UAAU,IAAIA,UAAU,CAACe,KAAX,EAA3B;AAED,GALQ,EAKN,CAACf,UAAD,CALM,CAAT;AAOA,SAAO,CAACN,QAAD,EAAWE,KAAX,EAAkBE,OAAlB,EAA2BI,UAA3B,CAAP;AACD,CAtCD;;GAAMV,gB;;AAwCN,eAAeA,gBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useAxiosFunction = (configObj) => {\r\n  \r\n  const [response, setResponse] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [controller, setController] = useState();\r\n\r\n\r\n\r\n  const axiosFetch = async (configObj) => {\r\n    const { axiosInstance, method, url, requestConfig = {} } = configObj;\r\n\r\n    try {\r\n        setLoading(true)\r\n        const ctrl = new AbortController();\r\n        setController(ctrl);\r\n        const res = await axiosInstance[method.toLowerCase()](url, {\r\n          ...requestConfig,\r\n          signal: controller.signal,\r\n        });\r\n   \r\n        setResponse(res.data);\r\n      } catch (err) {\r\n       \r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n  }\r\n\r\n  useEffect(() => {\r\n    \r\n\r\n    return () => controller && controller.abort();\r\n   \r\n  }, [controller]);\r\n\r\n  return [response, error, loading, axiosFetch];\r\n};\r\n\r\nexport default useAxiosFunction;\r\n"]},"metadata":{},"sourceType":"module"}